---
interface Props {
  headline?: string
  items: Array<{
    company: string
    logo?: string
    industry: string
    challenge: string
    solution: string
    results: Array<{ value: string; label: string }>
    quote?: string
    quoteAuthor?: string
    quoteRole?: string
  }>
}

const { headline = 'Casos de Exito', items } = Astro.props
---

<section class="py-20 lg:py-28 bg-gray-50" id="casos">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center max-w-2xl mx-auto mb-16">
      <h2 class="text-3xl sm:text-4xl font-bold text-[var(--color-primary)] tracking-tight">
        {headline}
      </h2>
    </div>

    <div class="space-y-12">
      {items.map((item) => (
        <div class="bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-100">
          <div class="p-8 lg:p-10">
            {/* Header */}
            <div class="flex flex-col sm:flex-row sm:items-center gap-4 mb-8 pb-6 border-b border-gray-100">
              {item.logo ? (
                <img src={item.logo} alt={item.company} class="h-10 w-auto object-contain" loading="lazy" />
              ) : (
                <h3 class="text-2xl font-bold text-gray-900">{item.company}</h3>
              )}
              <span class="inline-flex items-center px-3 py-1 rounded-full bg-[var(--color-primary)]/5 text-sm font-medium text-[var(--color-primary)]">
                {item.industry}
              </span>
            </div>

            {/* Challenge + Solution */}
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
              <div>
                <h4 class="text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3">Desafio</h4>
                <p class="text-gray-700 leading-relaxed">{item.challenge}</p>
              </div>
              <div>
                <h4 class="text-sm font-semibold text-gray-400 uppercase tracking-wider mb-3">Solucion</h4>
                <p class="text-gray-700 leading-relaxed">{item.solution}</p>
              </div>
            </div>

            {/* Results */}
            <div class="bg-[var(--color-primary)]/5 rounded-xl p-6 mb-8">
              <h4 class="text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4">Resultados</h4>
              <div class={`grid grid-cols-2 gap-6 ${item.results.length >= 3 ? 'md:grid-cols-3' : ''} ${item.results.length >= 4 ? 'lg:grid-cols-4' : ''}`}>
                {item.results.map((result) => (
                  <div>
                    <p class="text-2xl lg:text-3xl font-bold text-[var(--color-accent)]">{result.value}</p>
                    <p class="text-sm text-gray-600 mt-1">{result.label}</p>
                  </div>
                ))}
              </div>
            </div>

            {/* Quote */}
            {item.quote && (
              <div class="flex gap-4">
                <svg class="w-8 h-8 text-[var(--color-accent)]/30 shrink-0 mt-1" fill="currentColor" viewBox="0 0 32 32">
                  <path d="M10 8c-3.3 0-6 2.7-6 6v10h10V14H8c0-1.1.9-2 2-2V8zm14 0c-3.3 0-6 2.7-6 6v10h10V14h-6c0-1.1.9-2 2-2V8z" />
                </svg>
                <div>
                  <p class="text-gray-700 italic leading-relaxed">"{item.quote}"</p>
                  {item.quoteAuthor && (
                    <p class="mt-3 text-sm font-semibold text-gray-900">
                      {item.quoteAuthor}
                      {item.quoteRole && <span class="font-normal text-gray-500"> â€” {item.quoteRole}</span>}
                    </p>
                  )}
                </div>
              </div>
            )}
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
